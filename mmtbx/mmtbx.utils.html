
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mmtbx.utils package &#8212; CCTBX Developer documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mmtbx.validation package" href="mmtbx.validation.html" />
    <link rel="prev" title="mmtbx.twinning package" href="mmtbx.twinning.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mmtbx.validation.html" title="mmtbx.validation package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mmtbx.twinning.html" title="mmtbx.twinning package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CCTBX Developer documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mmtbx.html" accesskey="U">mmtbx - macromolecular crystallography</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mmtbx-utils-package">
<h1>mmtbx.utils package<a class="headerlink" href="#mmtbx-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mmtbx.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mmtbx.utils" title="Permalink to this headline">¶</a></h2>
<p>Library of convenience functions for working with models and reflection data.
This contains a number of routines used in phenix.refine and related programs,
mainly concerned with the repetitive process of loading model and data files
and initializing the appropriate objects.  Note that if you are writing a
program that uses similar inputs, it may be significantly easier to use the
unified input handling encapsulated in <a class="reference internal" href="mmtbx.command_line.html#module-mmtbx.command_line" title="mmtbx.command_line"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mmtbx.command_line</span></code></a>, which
wraps much of the functionality in <a class="reference internal" href="#module-mmtbx.utils" title="mmtbx.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mmtbx.utils</span></code></a> while hiding the
messy details.</p>
<dl class="function">
<dt id="mmtbx.utils.assert_model_is_consistent">
<code class="descclassname">mmtbx.utils.</code><code class="descname">assert_model_is_consistent</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.assert_model_is_consistent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.assert_water_is_consistent">
<code class="descclassname">mmtbx.utils.</code><code class="descname">assert_water_is_consistent</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.assert_water_is_consistent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.assert_xray_structures_equal">
<code class="descclassname">mmtbx.utils.</code><code class="descname">assert_xray_structures_equal</code><span class="sig-paren">(</span><em>x1</em>, <em>x2</em>, <em>selection=None</em>, <em>sites=True</em>, <em>adp=True</em>, <em>occupancies=True</em>, <em>elements=True</em>, <em>scattering_types=True</em>, <em>eps=1e-06</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.assert_xray_structures_equal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.atom_selection">
<code class="descclassname">mmtbx.utils.</code><code class="descname">atom_selection</code><span class="sig-paren">(</span><em>model</em>, <em>string</em>, <em>allow_empty_selection=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.atom_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.combine_hd_exchangable">
<code class="descclassname">mmtbx.utils.</code><code class="descname">combine_hd_exchangable</code><span class="sig-paren">(</span><em>hierarchy</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.combine_hd_exchangable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.compare_hierarchy">
<code class="descclassname">mmtbx.utils.</code><code class="descname">compare_hierarchy</code><span class="sig-paren">(</span><em>hierarchy</em>, <em>scatterers</em>, <em>cell</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.compare_hierarchy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.data_and_flags_master_params">
<code class="descclassname">mmtbx.utils.</code><code class="descname">data_and_flags_master_params</code><span class="sig-paren">(</span><em>master_scope_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.data_and_flags_master_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">detect_hydrogen_nomenclature_problem</code><span class="sig-paren">(</span><em>pdb_file</em>, <em>cif_files=()</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This allows us to avoid the following problems:
1) a bug in automatic linking which deletes the monomer library definition</p>
<blockquote>
<div>for HD22 for an N-linked Asn, even though it may not actually be replaced
by a sugar link.</div></blockquote>
<ol class="arabic simple" start="2">
<li>general issues with hydrogen nomenclature</li>
</ol>
<dl class="attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.bad_hydrogens">
<code class="descname">bad_hydrogens</code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.bad_hydrogens" title="Permalink to this definition">¶</a></dt>
<dd><p><em>a list of problematic atom ID strings</em></p>
</dd></dl>

<dl class="attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.n_asn_hd22">
<code class="descname">n_asn_hd22</code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.n_asn_hd22" title="Permalink to this definition">¶</a></dt>
<dd><p><em>number of inappropriate ASN HD22 atoms</em></p>
</dd></dl>

<dl class="attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.n_hydrogen">
<code class="descname">n_hydrogen</code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.n_hydrogen" title="Permalink to this definition">¶</a></dt>
<dd><p><em>number of hydrogens missing geometry restraints</em></p>
</dd></dl>

<dl class="attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.n_other">
<code class="descname">n_other</code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.n_other" title="Permalink to this definition">¶</a></dt>
<dd><p><em>number of non-hydrogen atoms missing geometry restraints</em></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.determine_data_and_flags">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">determine_data_and_flags</code><span class="sig-paren">(</span><em>reflection_file_server</em>, <em>parameters=None</em>, <em>data_parameter_scope=''</em>, <em>flags_parameter_scope=''</em>, <em>data_description=None</em>, <em>working_point_group=None</em>, <em>symmetry_safety_check=None</em>, <em>remark_r_free_flags_md5_hexdigest=None</em>, <em>extract_r_free_flags=True</em>, <em>keep_going=False</em>, <em>log=None</em>, <em>prefer_anomalous=None</em>, <em>force_non_anomalous=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Encapsulates logic for extracting experimental amplitudes and R-free flags
from the given input file(s).  This expects that the standard parameter block
is being used.  Determination of appropriate data labels will be as automatic
as possible, or will give clear feedback when ambiguity exists.  If not
found in the inputs, the R-free flags can be created if desired.</p>
<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.data_as_f_obs">
<code class="descname">data_as_f_obs</code><span class="sig-paren">(</span><em>f_obs</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.data_as_f_obs" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert input data array to amplitudes, adjusting the data type and
applying additional filters if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f_obs</strong> – selected input data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="../cctbx/cctbx.miller.html#cctbx.miller.array" title="cctbx.miller.array"><code class="xref py py-class docutils literal notranslate"><span class="pre">cctbx.miller.array</span></code></a> of real numbers with observation
type set to amplitudes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.extract_data">
<code class="descname">extract_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.extract_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.extract_flags">
<code class="descname">extract_flags</code><span class="sig-paren">(</span><em>data</em>, <em>data_description='R-free flags'</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.extract_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.flags_as_r_free_flags">
<code class="descname">flags_as_r_free_flags</code><span class="sig-paren">(</span><em>f_obs</em>, <em>r_free_flags</em>, <em>missing_show_max_lines=10</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.flags_as_r_free_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.get_r_free_flags">
<code class="descname">get_r_free_flags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.get_r_free_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.verify_r_free_flags_md5_hexdigest">
<code class="descname">verify_r_free_flags_md5_hexdigest</code><span class="sig-paren">(</span><em>ignore_pdb_hexdigest</em>, <em>current</em>, <em>records</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.verify_r_free_flags_md5_hexdigest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.determine_experimental_phases">
<code class="descclassname">mmtbx.utils.</code><code class="descname">determine_experimental_phases</code><span class="sig-paren">(</span><em>reflection_file_server</em>, <em>parameters</em>, <em>log</em>, <em>parameter_scope</em>, <em>working_point_group</em>, <em>symmetry_safety_check</em>, <em>ignore_all_zeros=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.determine_experimental_phases" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract experimental phases from the given inputs if possible.  Returns None
if not found.</p>
</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.equivalent_sigma_from_cumulative_histogram_match">
<code class="descclassname">mmtbx.utils.</code><code class="descname">equivalent_sigma_from_cumulative_histogram_match</code><span class="sig-paren">(</span><em>map_1</em>, <em>map_2</em>, <em>sigma_1</em>, <em>tail_cutoff=3</em>, <em>step=1</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.equivalent_sigma_from_cumulative_histogram_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.experimental_data_target_and_gradients">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">experimental_data_target_and_gradients</code><span class="sig-paren">(</span><em>fmodel</em>, <em>alpha_beta=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.grad_occ">
<code class="descname">grad_occ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_occ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart">
<code class="descname">grad_sites_cart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads">
<code class="descname">group_occupancy_grads</code><span class="sig-paren">(</span><em>pdb_hierarchy=None</em>, <em>residues_per_window=None</em>, <em>selections=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>log=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.target">
<code class="descname">target</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure">
<code class="descname">update_xray_structure</code><span class="sig-paren">(</span><em>xray_structure</em>, <em>alpha_beta=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.explain_how_to_generate_array_of_r_free_flags">
<code class="descclassname">mmtbx.utils.</code><code class="descname">explain_how_to_generate_array_of_r_free_flags</code><span class="sig-paren">(</span><em>log</em>, <em>flags_parameter_scope</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.explain_how_to_generate_array_of_r_free_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.extract_box_around_model_and_map">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">extract_box_around_model_and_map</code><span class="sig-paren">(</span><em>xray_structure</em>, <em>map_data</em>, <em>box_cushion</em>, <em>selection=None</em>, <em>density_select=None</em>, <em>threshold=None</em>, <em>get_half_height_width=None</em>, <em>soft_mask=False</em>, <em>soft_mask_radius=None</em>, <em>mask_atoms=False</em>, <em>mask_atoms_atom_radius=3.0</em>, <em>value_outside_atoms=None</em>, <em>keep_map_size=False</em>, <em>restrict_map_size=False</em>, <em>lower_bounds=None</em>, <em>upper_bounds=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients">
<code class="descname">box_map_coefficients</code><span class="sig-paren">(</span><em>d_min</em>, <em>shift_back=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map">
<code class="descname">box_map_coefficients_as_fft_map</code><span class="sig-paren">(</span><em>d_min</em>, <em>resolution_factor</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.cut_and_copy_map">
<code class="descname">cut_and_copy_map</code><span class="sig-paren">(</span><em>map_data=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.cut_and_copy_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.get_original_cs">
<code class="descname">get_original_cs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.get_original_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.get_range">
<code class="descname">get_range</code><span class="sig-paren">(</span><em>value_list</em>, <em>threshold=None</em>, <em>ignore_ends=True</em>, <em>keep_near_ends_frac=0.02</em>, <em>half_height_width=2.0</em>, <em>get_half_height_width=None</em>, <em>cutoff_ratio=4</em>, <em>ratio_max=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.get_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.get_shifted_cs">
<code class="descname">get_shifted_cs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.get_shifted_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.map_coefficients">
<code class="descname">map_coefficients</code><span class="sig-paren">(</span><em>d_min</em>, <em>resolution_factor</em>, <em>file_name='box.mtz'</em>, <em>shift_back=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.map_coefficients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.origin_shift_grid_units">
<code class="descname">origin_shift_grid_units</code><span class="sig-paren">(</span><em>reverse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.origin_shift_grid_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.select_box">
<code class="descname">select_box</code><span class="sig-paren">(</span><em>threshold</em>, <em>xrs=None</em>, <em>get_half_height_width=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.select_box" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.shift_back">
<code class="descname">shift_back</code><span class="sig-paren">(</span><em>pdb_hierarchy</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.shift_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.shift_map_back">
<code class="descname">shift_map_back</code><span class="sig-paren">(</span><em>map_data</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.shift_map_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.shift_map_coeffs_back">
<code class="descname">shift_map_coeffs_back</code><span class="sig-paren">(</span><em>map_coeffs</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.shift_map_coeffs_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.translation_phase_shift">
<code class="descname">translation_phase_shift</code><span class="sig-paren">(</span><em>phases_rad</em>, <em>shift_frac=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.translation_phase_shift" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.write_ccp4_map">
<code class="descname">write_ccp4_map</code><span class="sig-paren">(</span><em>file_name='box.ccp4'</em>, <em>shift_back=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.write_ccp4_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.write_xplor_map">
<code class="descname">write_xplor_map</code><span class="sig-paren">(</span><em>file_name='box.xplor'</em>, <em>shift_back=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.write_xplor_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.extract_tls_and_u_total_from_pdb">
<code class="descclassname">mmtbx.utils.</code><code class="descname">extract_tls_and_u_total_from_pdb</code><span class="sig-paren">(</span><em>f_obs</em>, <em>r_free_flags</em>, <em>xray_structure</em>, <em>tls_selections</em>, <em>tls_groups</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_tls_and_u_total_from_pdb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.f_000">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">f_000</code><span class="sig-paren">(</span><em>xray_structure=None</em>, <em>unit_cell_volume=None</em>, <em>solvent_fraction=None</em>, <em>mean_solvent_density=0.35</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.f_000" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.find_overlapping_selections">
<code class="descclassname">mmtbx.utils.</code><code class="descname">find_overlapping_selections</code><span class="sig-paren">(</span><em>selections</em>, <em>selection_strings</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.find_overlapping_selections" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of atom selections (<a class="reference internal" href="../scitbx/scitbx.array_family.html#scitbx.array_family.flex.bool" title="scitbx.array_family.flex.bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">scitbx.array_family.flex.bool</span></code></a>
arrays) and corresponding selection strings, inspect the selections to
determine whether any two arrays overlap.  Returns a tuple of the first pair
of selection strings found to overlap, or None if all selections are unique.</p>
</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.fmodel_from_xray_structure">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">fmodel_from_xray_structure</code><span class="sig-paren">(</span><em>xray_structure</em>, <em>f_obs=None</em>, <em>params=None</em>, <em>r_free_flags_fraction=None</em>, <em>add_sigmas=False</em>, <em>twin_law=None</em>, <em>twin_fraction=None</em>, <em>target='ml'</em>, <em>out=None</em>, <em>merge_r_free_flags=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined">
<code class="descname">Sorry_high_resolution_is_not_defined</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fmodel_from_xray_structure.write_to_file">
<code class="descname">write_to_file</code><span class="sig-paren">(</span><em>file_name</em>, <em>obs_type='amplitudes'</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure.write_to_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.fmodel_manager">
<code class="descclassname">mmtbx.utils.</code><code class="descname">fmodel_manager</code><span class="sig-paren">(</span><em>f_obs</em>, <em>xray_structure=None</em>, <em>r_free_flags=None</em>, <em>f_mask=None</em>, <em>f_calc=None</em>, <em>ignore_r_free_flags=False</em>, <em>target_name='ml'</em>, <em>k_mask=None</em>, <em>k_anisotropic=None</em>, <em>hl_coeff=None</em>, <em>epsilons=None</em>, <em>use_f_model_scaled=False</em>, <em>twin_law=None</em>, <em>detwin_mode=None</em>, <em>detwin_map_types=None</em>, <em>alpha_beta_params=None</em>, <em>sf_and_grads_accuracy_params=&lt;libtbx.phil.scope_extract object&gt;</em>, <em>mask_params=None</em>, <em>max_number_of_resolution_bins=None</em>, <em>n_resolution_bins_output=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.fmodel_simple">
<code class="descclassname">mmtbx.utils.</code><code class="descname">fmodel_simple</code><span class="sig-paren">(</span><em>f_obs</em>, <em>xray_structures</em>, <em>scattering_table</em>, <em>r_free_flags=None</em>, <em>target_name='ml'</em>, <em>bulk_solvent_and_scaling=True</em>, <em>bss_params=None</em>, <em>mask_params=None</em>, <em>twin_laws=None</em>, <em>skip_twin_detection=False</em>, <em>twin_switch_tolerance=2.0</em>, <em>outliers_rejection=True</em>, <em>bulk_solvent_correction=True</em>, <em>anisotropic_scaling=True</em>, <em>log=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_simple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.get_atom_selection">
<code class="descclassname">mmtbx.utils.</code><code class="descname">get_atom_selection</code><span class="sig-paren">(</span><em>pdb_file_name</em>, <em>selection_string</em>, <em>iselection=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.get_atom_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.get_atom_selections">
<code class="descclassname">mmtbx.utils.</code><code class="descname">get_atom_selections</code><span class="sig-paren">(</span><em>model=None</em>, <em>selection_strings=None</em>, <em>iselection=True</em>, <em>one_group_per_residue=False</em>, <em>allow_empty_selection=False</em>, <em>hydrogens_only=False</em>, <em>one_selection_array=False</em>, <em>parameter_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.get_atom_selections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.guess_observation_type">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">guess_observation_type</code><span class="sig-paren">(</span><em>f_obs</em>, <em>label</em>, <em>xray_structure</em>, <em>r_free_flags=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="mmtbx.utils.guess_observation_type.data_size">
<code class="descname">data_size</code><em class="property"> = 500</em><a class="headerlink" href="#mmtbx.utils.guess_observation_type.data_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.guess_observation_type.find_best">
<code class="descname">find_best</code><span class="sig-paren">(</span><em>results</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type.find_best" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.guess_observation_type.get_r_factor">
<code class="descname">get_r_factor</code><span class="sig-paren">(</span><em>f_obs</em>, <em>f_calc</em>, <em>scattering_table</em>, <em>xray_structure</em>, <em>twin_switch_tolerance</em>, <em>skip_twin_detection</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type.get_r_factor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.guess_observation_type.mtz_object">
<code class="descname">mtz_object</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type.mtz_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.miller_array_symmetry_safety_check">
<code class="descclassname">mmtbx.utils.</code><code class="descname">miller_array_symmetry_safety_check</code><span class="sig-paren">(</span><em>miller_array</em>, <em>data_description</em>, <em>working_point_group</em>, <em>symmetry_safety_check</em>, <em>log</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.miller_array_symmetry_safety_check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.optimize_h">
<code class="descclassname">mmtbx.utils.</code><code class="descname">optimize_h</code><span class="sig-paren">(</span><em>fmodel</em>, <em>mon_lib_srv</em>, <em>pdb_hierarchy=None</em>, <em>model=None</em>, <em>log=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.optimize_h" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.pdb_inp_from_multiple_files">
<code class="descclassname">mmtbx.utils.</code><code class="descname">pdb_inp_from_multiple_files</code><span class="sig-paren">(</span><em>pdb_files</em>, <em>log</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.pdb_inp_from_multiple_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.print_header">
<code class="descclassname">mmtbx.utils.</code><code class="descname">print_header</code><span class="sig-paren">(</span><em>line</em>, <em>out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.print_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.print_programs_start_header">
<code class="descclassname">mmtbx.utils.</code><code class="descname">print_programs_start_header</code><span class="sig-paren">(</span><em>log</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.print_programs_start_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.process_command_line_args">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">process_command_line_args</code><span class="sig-paren">(</span><em>args</em>, <em>cmd_cs=None</em>, <em>master_params=None</em>, <em>log=None</em>, <em>home_scope=None</em>, <em>absolute_angle_tolerance=0.01</em>, <em>absolute_length_tolerance=0.01</em>, <em>suppress_symmetry_related_errors=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_command_line_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.process_command_line_args.get_reflection_file_server">
<code class="descname">get_reflection_file_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_command_line_args.get_reflection_file_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.process_pdb_file_srv">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">process_pdb_file_srv</code><span class="sig-paren">(</span><em>crystal_symmetry=None</em>, <em>pdb_parameters=None</em>, <em>pdb_interpretation_params=None</em>, <em>stop_for_unknowns=None</em>, <em>log=None</em>, <em>cif_objects=None</em>, <em>cif_parameters=None</em>, <em>mon_lib_srv=None</em>, <em>ener_lib=None</em>, <em>use_neutron_distances=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_pdb_file_srv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.process_pdb_file_srv.process_pdb_files">
<code class="descname">process_pdb_files</code><span class="sig-paren">(</span><em>pdb_file_names=None</em>, <em>raw_records=None</em>, <em>pdb_inp=None</em>, <em>hierarchy=None</em>, <em>allow_missing_symmetry=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_pdb_file_srv.process_pdb_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.remove_selections">
<code class="descclassname">mmtbx.utils.</code><code class="descname">remove_selections</code><span class="sig-paren">(</span><em>selection</em>, <em>other</em>, <em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.remove_selections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.rms_b_iso_or_b_equiv_bonded">
<code class="descclassname">mmtbx.utils.</code><code class="descname">rms_b_iso_or_b_equiv_bonded</code><span class="sig-paren">(</span><em>restraints_manager</em>, <em>xray_structure</em>, <em>ias_manager=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.rms_b_iso_or_b_equiv_bonded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.set_log">
<code class="descclassname">mmtbx.utils.</code><code class="descname">set_log</code><span class="sig-paren">(</span><em>args</em>, <em>out=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w'&gt;</em>, <em>replace_stderr=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.set_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.set_map_to_value">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">set_map_to_value</code><span class="sig-paren">(</span><em>map_data</em>, <em>xray_structure</em>, <em>atom_radius</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.set_map_to_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.set_map_to_value.write_xplor_map">
<code class="descname">write_xplor_map</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.set_map_to_value.write_xplor_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.setup_scattering_dictionaries">
<code class="descclassname">mmtbx.utils.</code><code class="descname">setup_scattering_dictionaries</code><span class="sig-paren">(</span><em>scattering_table</em>, <em>xray_structure</em>, <em>d_min</em>, <em>log=None</em>, <em>all_chain_proxies=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.setup_scattering_dictionaries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.shift_origin">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">shift_origin</code><span class="sig-paren">(</span><em>map_data</em>, <em>pdb_hierarchy=None</em>, <em>xray_structure=None</em>, <em>crystal_symmetry=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.shift_origin.get_original_cs">
<code class="descname">get_original_cs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.get_original_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.shift_origin.shift_back">
<code class="descname">shift_back</code><span class="sig-paren">(</span><em>pdb_hierarchy</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.shift_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.shift_origin.write_map_file">
<code class="descname">write_map_file</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.write_map_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.shift_origin.write_model_file">
<code class="descname">write_model_file</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.write_model_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.states">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">states</code><span class="sig-paren">(</span><em>pdb_hierarchy</em>, <em>xray_structure=None</em>, <em>counter=0</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.states" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.states.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>sites_cart</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.states.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.states.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>file_name</em>, <em>crystal_symmetry=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.states.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.switch_rotamers">
<code class="descclassname">mmtbx.utils.</code><code class="descname">switch_rotamers</code><span class="sig-paren">(</span><em>pdb_hierarchy</em>, <em>mode</em>, <em>accept_allowed=True</em>, <em>selection=None</em>, <em>mon_lib_srv=None</em>, <em>rotamer_manager=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.switch_rotamers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.xray_structures_from_processed_pdb_file">
<em class="property">class </em><code class="descclassname">mmtbx.utils.</code><code class="descname">xray_structures_from_processed_pdb_file</code><span class="sig-paren">(</span><em>processed_pdb_file</em>, <em>scattering_table</em>, <em>d_min</em>, <em>log=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.xray_structures_from_processed_pdb_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mmtbx.utils.fab_elbow_angle">
<span id="mmtbx-utils-fab-elbow-angle-module"></span><h2>mmtbx.utils.fab_elbow_angle module<a class="headerlink" href="#module-mmtbx.utils.fab_elbow_angle" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle">
<em class="property">class </em><code class="descclassname">mmtbx.utils.fab_elbow_angle.</code><code class="descname">fab_elbow_angle</code><span class="sig-paren">(</span><em>pdb_hierarchy</em>, <em>chain_id_light='L'</em>, <em>chain_id_heavy='H'</em>, <em>limit_light=107</em>, <em>limit_heavy=113</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis">
<code class="descname">cross_product_as_unit_axis</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle">
<code class="descname">get_angle</code><span class="sig-paren">(</span><em>vec1</em>, <em>vec2</em>, <em>larger=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>retrun the larger angle between vec1 and vec2</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector">
<code class="descname">get_eigenvector</code><span class="sig-paren">(</span><em>eigen</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the eigen vector for eigen value 1 and normalize it</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains">
<code class="descname">get_pdb_chains</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains" title="Permalink to this definition">¶</a></dt>
<dd><p>Create seperate pdb hierarchy for each on the chains we want to align</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation">
<code class="descname">get_transformation</code><span class="sig-paren">(</span><em>fixed_selection</em>, <em>moving_selection</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec">
<code class="descname">norm_vec</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec" title="Permalink to this definition">¶</a></dt>
<dd><p>retruns normalized vector that starts at “stat” and ends at “end”</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str">
<code class="descname">select_str</code><span class="sig-paren">(</span><em>chain_ID_H</em>, <em>limit_H</em>, <em>chain_ID_L</em>, <em>limit_L</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str" title="Permalink to this definition">¶</a></dt>
<dd><p>create selection strings for the heavy and light chains
separating the variable and constant parts of the chains</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mmtbx-utils-ncs-utils-module">
<h2>mmtbx.utils.ncs_utils module<a class="headerlink" href="#mmtbx-utils-ncs-utils-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mmtbx.utils.rotatable_bonds">
<span id="mmtbx-utils-rotatable-bonds-module"></span><h2>mmtbx.utils.rotatable_bonds module<a class="headerlink" href="#module-mmtbx.utils.rotatable_bonds" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mmtbx.utils.rotatable_bonds.axes_and_atoms_aa_specific">
<code class="descclassname">mmtbx.utils.rotatable_bonds.</code><code class="descname">axes_and_atoms_aa_specific</code><span class="sig-paren">(</span><em>residue</em>, <em>mon_lib_srv</em>, <em>remove_clusters_with_all_h=False</em>, <em>include_labels=False</em>, <em>tardy_model=None</em>, <em>log=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.rotatable_bonds.axes_and_atoms_aa_specific" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.rotatable_bonds.tardy_model_one_residue">
<code class="descclassname">mmtbx.utils.rotatable_bonds.</code><code class="descname">tardy_model_one_residue</code><span class="sig-paren">(</span><em>residue</em>, <em>mon_lib_srv</em>, <em>log=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.rotatable_bonds.tardy_model_one_residue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mmtbx.utils package</a><ul>
<li><a class="reference internal" href="#module-mmtbx.utils">Module contents</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-mmtbx.utils.fab_elbow_angle">mmtbx.utils.fab_elbow_angle module</a></li>
<li><a class="reference internal" href="#mmtbx-utils-ncs-utils-module">mmtbx.utils.ncs_utils module</a></li>
<li><a class="reference internal" href="#module-mmtbx.utils.rotatable_bonds">mmtbx.utils.rotatable_bonds module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mmtbx.twinning.html"
                        title="previous chapter">mmtbx.twinning package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mmtbx.validation.html"
                        title="next chapter">mmtbx.validation package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/mmtbx/mmtbx.utils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mmtbx.validation.html" title="mmtbx.validation package"
             >next</a> |</li>
        <li class="right" >
          <a href="mmtbx.twinning.html" title="mmtbx.twinning package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CCTBX Developer documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mmtbx.html" >mmtbx - macromolecular crystallography</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, University of California.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.
    </div>
  </body>
</html>