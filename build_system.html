
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>SCons - the backbone of the cctbx build system &#8212; CCTBX Developer documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CCTBX development history" href="history.html" />
    <link rel="prev" title="Tour of the cctbx" href="tour.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="history.html" title="CCTBX development history"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tour.html" title="Tour of the cctbx"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCTBX Developer documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SCons - the backbone of the cctbx build system</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="scons-the-backbone-of-the-cctbx-build-system">
<span id="build-system"></span><h1>SCons - the backbone of the cctbx build system<a class="headerlink" href="#scons-the-backbone-of-the-cctbx-build-system" title="Permalink to this headline">¶</a></h1>
<p>Conceptually it is a trivial task to compile and link portable source
code. However, in real life this is one of the most time-consuming
nuisances, in particular if multiple, diverse platforms have to be
supported. In the version 1.0 release of the cctbx we made an attempt
to address this with the home-made <em>fast track</em> build system.
Of course home-made is often good enough, but a professional solution
is almost always better, especially if it comes with no strings
attached.</p>
<p>Fortunately such a system is now available:
<a class="reference external" href="http://www.scons.org/">SCons</a>, short for Software Construction tool. This is a perfect fit for
the cctbx because the SCons developers have apparently adopted a
similar “professional is better than home-made” philosophy: SCons is
implemented in pure Python, and SCons configuration files (the
equivalent of Makefiles) are pure Python scripts. SCons has many
advantages compared to a traditional make-based build system. To quote
some points from the SCons documentation:</p>
<ul class="simple">
<li><p>Global view of all dependencies – no more multiple build passes or
reordering targets to build everything.</p></li>
<li><p>Reliable detection of build changes using MD5 signatures – no
more “clock skew detected, build may be incomplete”.</p></li>
<li><p>Built-in support for C, C++, Fortran, Yacc and Lex.</p></li>
<li><p>Improved support for parallel builds – like make -j but keeps N jobs
running simultaneously regardless of directory hierarchy.</p></li>
<li><p>Building from central repositories of source code and/or pre-built
targets.</p></li>
<li><p>Designed from the ground up for cross-platform builds, and known to
work on Linux, POSIX, Windows NT, Mac OS X, Tru64 Unix, and OS/2.</p></li>
</ul>
<p>When we moved from our home-grown build system to SCons we found all
these points to be perfectly true. It only took very little effort to
write a small configure script for setting up a master SConstruct file
based on the user’s choice of which cctbx modules to use and which to
ignore. New modules can easily be tied into this system simply by
providing a SConstruct file in the module’s top-level directory. The
author of the new module has complete control over the build process.
The existing settings can simply be reused, customized, or totally
replaced, all within one uniform and 100% platform-independent
framework, the Python language.</p>
<p><a class="reference internal" href="index.html#introduction"><span class="std std-ref">Back</span></a></p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="tour.html"
                        title="previous chapter">Tour of the cctbx</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="history.html"
                        title="next chapter">CCTBX development history</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/build_system.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="history.html" title="CCTBX development history"
             >next</a> |</li>
        <li class="right" >
          <a href="tour.html" title="Tour of the cctbx"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCTBX Developer documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SCons - the backbone of the cctbx build system</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, University of California.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  </body>
</html>