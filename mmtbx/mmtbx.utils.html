
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>mmtbx.utils package &#8212; CCTBX Developer documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mmtbx.validation package" href="mmtbx.validation.html" />
    <link rel="prev" title="mmtbx.twinning package" href="mmtbx.twinning.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mmtbx.validation.html" title="mmtbx.validation package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mmtbx.twinning.html" title="mmtbx.twinning package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CCTBX Developer documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mmtbx.html" accesskey="U">mmtbx - macromolecular crystallography</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">mmtbx.utils package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="mmtbx-utils-package">
<h1>mmtbx.utils package<a class="headerlink" href="#mmtbx-utils-package" title="Permalink to this headline">¶</a></h1>
<section id="module-mmtbx.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mmtbx.utils" title="Permalink to this headline">¶</a></h2>
<p>Library of convenience functions for working with models and reflection data.
This contains a number of routines used in phenix.refine and related programs,
mainly concerned with the repetitive process of loading model and data files
and initializing the appropriate objects.  Note that if you are writing a
program that uses similar inputs, it may be significantly easier to use the
unified input handling encapsulated in <a class="reference internal" href="mmtbx.command_line.html#module-mmtbx.command_line" title="mmtbx.command_line"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mmtbx.command_line</span></code></a>, which
wraps much of the functionality in <a class="reference internal" href="#module-mmtbx.utils" title="mmtbx.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mmtbx.utils</span></code></a> while hiding the
messy details.</p>
<dl class="py function">
<dt id="mmtbx.utils.assert_model_is_consistent">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">assert_model_is_consistent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.assert_model_is_consistent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.assert_water_is_consistent">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">assert_water_is_consistent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.assert_water_is_consistent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.assert_xray_structures_equal">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">assert_xray_structures_equal</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">occupancies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scattering_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eps_occ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.assert_xray_structures_equal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.atom_selection">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">atom_selection</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_empty_selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.atom_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.check_and_set_crystal_symmetry">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">check_and_set_crystal_symmetry</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_inps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">miller_arrays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crystal_symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_symmetry_conflicts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_angle_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_length_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.check_and_set_crystal_symmetry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.combine_hd_exchangable">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">combine_hd_exchangable</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hierarchy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.combine_hd_exchangable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.compare_hierarchy">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">compare_hierarchy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hierarchy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatterers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.compare_hierarchy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">detect_hydrogen_nomenclature_problem</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cif_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This allows us to avoid the following problems:
1) a bug in automatic linking which deletes the monomer library definition</p>
<blockquote>
<div><p>for HD22 for an N-linked Asn, even though it may not actually be replaced
by a sugar link.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>general issues with hydrogen nomenclature</p></li>
</ol>
<dl class="py attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.bad_hydrogens">
<code class="sig-name descname"><span class="pre">bad_hydrogens</span></code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.bad_hydrogens" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>a list of problematic atom ID strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.n_asn_hd22">
<code class="sig-name descname"><span class="pre">n_asn_hd22</span></code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.n_asn_hd22" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>number of inappropriate ASN HD22 atoms</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.n_hydrogen">
<code class="sig-name descname"><span class="pre">n_hydrogen</span></code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.n_hydrogen" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>number of hydrogens missing geometry restraints</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem.n_other">
<code class="sig-name descname"><span class="pre">n_other</span></code><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem.n_other" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>number of non-hydrogen atoms missing geometry restraints</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.equivalent_sigma_from_cumulative_histogram_match">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">equivalent_sigma_from_cumulative_histogram_match</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tail_cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.equivalent_sigma_from_cumulative_histogram_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.experimental_data_target_and_gradients">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">experimental_data_target_and_gradients</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.grad_occ">
<code class="sig-name descname"><span class="pre">grad_occ</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_occ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart">
<code class="sig-name descname"><span class="pre">grad_sites_cart</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads">
<code class="sig-name descname"><span class="pre">group_occupancy_grads</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">residues_per_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.show">
<code class="sig-name descname"><span class="pre">show</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.target">
<code class="sig-name descname"><span class="pre">target</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure">
<code class="sig-name descname"><span class="pre">update_xray_structure</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.extract_box_around_model_and_map">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">extract_box_around_model_and_map</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box_cushion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.apply_mask_inplace">
<code class="sig-name descname"><span class="pre">apply_mask_inplace</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atom_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.apply_mask_inplace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients">
<code class="sig-name descname"><span class="pre">box_map_coefficients</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map">
<code class="sig-name descname"><span class="pre">box_map_coefficients_as_fft_map</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution_factor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.cut_and_copy_map">
<code class="sig-name descname"><span class="pre">cut_and_copy_map</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.cut_and_copy_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.get_original_cs">
<code class="sig-name descname"><span class="pre">get_original_cs</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.get_original_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.get_shifted_cs">
<code class="sig-name descname"><span class="pre">get_shifted_cs</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.get_shifted_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.get_solvent_content">
<code class="sig-name descname"><span class="pre">get_solvent_content</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.get_solvent_content" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.map_coefficients">
<code class="sig-name descname"><span class="pre">map_coefficients</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution_factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'box.mtz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_back</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.map_coefficients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.origin_shift_grid_units">
<code class="sig-name descname"><span class="pre">origin_shift_grid_units</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.origin_shift_grid_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.shift_back">
<code class="sig-name descname"><span class="pre">shift_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.shift_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.shift_map_back">
<code class="sig-name descname"><span class="pre">shift_map_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.shift_map_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.shift_map_coeffs_back">
<code class="sig-name descname"><span class="pre">shift_map_coeffs_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_coeffs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.shift_map_coeffs_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.shift_sites_cart_back">
<code class="sig-name descname"><span class="pre">shift_sites_cart_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites_cart</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.shift_sites_cart_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.write_xplor_map">
<code class="sig-name descname"><span class="pre">write_xplor_map</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.write_xplor_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.extract_tls_and_u_total_from_pdb">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">extract_tls_and_u_total_from_pdb</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_free_flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tls_selections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tls_groups</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.extract_tls_and_u_total_from_pdb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.f_000">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">f_000</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_cell_volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solvent_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_solvent_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.f_000" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.find_overlapping_selections">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">find_overlapping_selections</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_strings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.find_overlapping_selections" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of atom selections (<a class="reference internal" href="../scitbx/scitbx.array_family.html#scitbx.array_family.flex.bool" title="scitbx.array_family.flex.bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">scitbx.array_family.flex.bool</span></code></a>
arrays) and corresponding selection strings, inspect the selections to
determine whether any two arrays overlap.  Returns a tuple of the first pair
of selection strings found to overlap, or None if all selections are unique.</p>
</dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.fmodel_from_xray_structure">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">fmodel_from_xray_structure</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_obs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_free_flags_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_sigmas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twin_law</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twin_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_r_free_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined">
<code class="sig-name descname"><span class="pre">Sorry_high_resolution_is_not_defined</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.fmodel_from_xray_structure.write_to_file">
<code class="sig-name descname"><span class="pre">write_to_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'amplitudes'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure.write_to_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.fmodel_manager">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">fmodel_manager</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">f_obs</span></em>, <em class="sig-param"><span class="pre">i_obs=None</span></em>, <em class="sig-param"><span class="pre">xray_structure=None</span></em>, <em class="sig-param"><span class="pre">r_free_flags=None</span></em>, <em class="sig-param"><span class="pre">f_mask=None</span></em>, <em class="sig-param"><span class="pre">f_calc=None</span></em>, <em class="sig-param"><span class="pre">ignore_r_free_flags=False</span></em>, <em class="sig-param"><span class="pre">target_name='ml'</span></em>, <em class="sig-param"><span class="pre">k_mask=None</span></em>, <em class="sig-param"><span class="pre">k_anisotropic=None</span></em>, <em class="sig-param"><span class="pre">hl_coeff=None</span></em>, <em class="sig-param"><span class="pre">epsilons=None</span></em>, <em class="sig-param"><span class="pre">use_f_model_scaled=False</span></em>, <em class="sig-param"><span class="pre">twin_law=None</span></em>, <em class="sig-param"><span class="pre">detwin_mode=None</span></em>, <em class="sig-param"><span class="pre">detwin_map_types=None</span></em>, <em class="sig-param"><span class="pre">alpha_beta_params=None</span></em>, <em class="sig-param"><span class="pre">sf_and_grads_accuracy_params=&lt;libtbx.phil.scope_extract</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">mask_params=None</span></em>, <em class="sig-param"><span class="pre">max_number_of_resolution_bins=None</span></em>, <em class="sig-param"><span class="pre">n_resolution_bins_output=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.fmodel_simple">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">fmodel_simple</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scattering_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_free_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk_solvent_and_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bss_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twin_laws</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_twin_detection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twin_switch_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliers_rejection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk_solvent_correction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anisotropic_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fmodel_simple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.get_atom_selection">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">get_atom_selection</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iselection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.get_atom_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.get_atom_selections">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">get_atom_selections</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_strings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iselection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">one_group_per_residue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_empty_selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hydrogens_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">one_selection_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.get_atom_selections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.guess_observation_type">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">guess_observation_type</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_free_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py attribute">
<dt id="mmtbx.utils.guess_observation_type.data_size">
<code class="sig-name descname"><span class="pre">data_size</span></code><em class="property"> <span class="pre">=</span> <span class="pre">500</span></em><a class="headerlink" href="#mmtbx.utils.guess_observation_type.data_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.guess_observation_type.find_best">
<code class="sig-name descname"><span class="pre">find_best</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type.find_best" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.guess_observation_type.get_r_factor">
<code class="sig-name descname"><span class="pre">get_r_factor</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scattering_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twin_switch_tolerance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_twin_detection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type.get_r_factor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.guess_observation_type.mtz_object">
<code class="sig-name descname"><span class="pre">mtz_object</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.guess_observation_type.mtz_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.limit_frac_min_frac_max">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">limit_frac_min_frac_max</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frac_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac_max</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.limit_frac_min_frac_max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.model_from_sites_cart">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">model_from_sites_cart</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites_cart</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GLY'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_iso</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">occ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatterer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crystal_symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.model_from_sites_cart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.optimize_h">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">optimize_h</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mon_lib_srv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.optimize_h" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.pdb_inp_from_multiple_files">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">pdb_inp_from_multiple_files</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.pdb_inp_from_multiple_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.print_header">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">print_header</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.print_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.print_programs_start_header">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">print_programs_start_header</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.print_programs_start_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.process_command_line_args">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">process_command_line_args</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd_cs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">master_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">home_scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_angle_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absolute_length_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suppress_symmetry_related_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_command_line_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.process_command_line_args.get_reflection_file_server">
<code class="sig-name descname"><span class="pre">get_reflection_file_server</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_command_line_args.get_reflection_file_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.process_pdb_file_srv">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">process_pdb_file_srv</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crystal_symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdb_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdb_interpretation_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_for_unknowns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cif_objects</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cif_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mon_lib_srv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ener_lib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_neutron_distances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_pdb_file_srv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.process_pdb_file_srv.process_pdb_files">
<code class="sig-name descname"><span class="pre">process_pdb_files</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_file_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_records</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdb_inp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hierarchy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_missing_symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.process_pdb_file_srv.process_pdb_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.remove_selections">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">remove_selections</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.remove_selections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.run_reduce_with_timeout">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">run_reduce_with_timeout</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stdin_lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_auto_timeout_with</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_stdout_stderr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdout_splitlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bufsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.run_reduce_with_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">libtbx.easy_run.fully_buffered_subprocess</span></code></p>
<dl class="py method">
<dt id="mmtbx.utils.run_reduce_with_timeout.as_pdb_hierarchy">
<code class="sig-name descname"><span class="pre">as_pdb_hierarchy</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.run_reduce_with_timeout.as_pdb_hierarchy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.set_log">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">set_log</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">args</span></em>, <em class="sig-param"><span class="pre">out=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></em>, <em class="sig-param"><span class="pre">replace_stderr=True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.set_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.set_map_to_value">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">set_map_to_value</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.set_map_to_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.set_map_to_value.write_xplor_map">
<code class="sig-name descname"><span class="pre">write_xplor_map</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.set_map_to_value.write_xplor_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.setup_scattering_dictionaries">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">setup_scattering_dictionaries</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scattering_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_chain_proxies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.setup_scattering_dictionaries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.shift_origin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">shift_origin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crystal_symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncs_object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_grid_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_xyz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.shift_origin.get_original_cs">
<code class="sig-name descname"><span class="pre">get_original_cs</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.get_original_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.shift_origin.shift_back">
<code class="sig-name descname"><span class="pre">shift_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.shift_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.shift_origin.write_map_file">
<code class="sig-name descname"><span class="pre">write_map_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.write_map_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.shift_origin.write_model_file">
<code class="sig-name descname"><span class="pre">write_model_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.shift_origin.write_model_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.states">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">states</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_structure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.states" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.states.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites_cart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hierarchy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.states.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.states.write">
<code class="sig-name descname"><span class="pre">write</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crystal_symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.states.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.switch_rotamers">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">switch_rotamers</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accept_allowed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mon_lib_srv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotamer_manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.switch_rotamers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="mmtbx.utils.xray_structures_from_processed_pdb_file">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.</span></code><code class="sig-name descname"><span class="pre">xray_structures_from_processed_pdb_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">processed_pdb_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scattering_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.xray_structures_from_processed_pdb_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-mmtbx.utils.fab_elbow_angle">
<span id="mmtbx-utils-fab-elbow-angle-module"></span><h2>mmtbx.utils.fab_elbow_angle module<a class="headerlink" href="#module-mmtbx.utils.fab_elbow_angle" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mmtbx.utils.fab_elbow_angle.</span></code><code class="sig-name descname"><span class="pre">fab_elbow_angle</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_hierarchy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain_id_light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain_id_heavy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'H'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">107</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_heavy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">113</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis">
<code class="sig-name descname"><span class="pre">cross_product_as_unit_axis</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle">
<code class="sig-name descname"><span class="pre">get_angle</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vec1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">larger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>retrun the larger angle between vec1 and vec2</p>
</dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector">
<code class="sig-name descname"><span class="pre">get_eigenvector</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eigen</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the eigen vector for eigen value 1 and normalize it</p>
</dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains">
<code class="sig-name descname"><span class="pre">get_pdb_chains</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains" title="Permalink to this definition">¶</a></dt>
<dd><p>Create seperate pdb hierarchy for each on the chains we want to align</p>
</dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation">
<code class="sig-name descname"><span class="pre">get_transformation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_selection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_selection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec">
<code class="sig-name descname"><span class="pre">norm_vec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec" title="Permalink to this definition">¶</a></dt>
<dd><p>retruns normalized vector that starts at “stat” and ends at “end”</p>
</dd></dl>

<dl class="py method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str">
<code class="sig-name descname"><span class="pre">select_str</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chain_ID_H</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_H</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain_ID_L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_L</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str" title="Permalink to this definition">¶</a></dt>
<dd><p>create selection strings for the heavy and light chains
separating the variable and constant parts of the chains</p>
</dd></dl>

</dd></dl>

</section>
<section id="mmtbx-utils-ncs-utils-module">
<h2>mmtbx.utils.ncs_utils module<a class="headerlink" href="#mmtbx-utils-ncs-utils-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-mmtbx.utils.rotatable_bonds">
<span id="mmtbx-utils-rotatable-bonds-module"></span><h2>mmtbx.utils.rotatable_bonds module<a class="headerlink" href="#module-mmtbx.utils.rotatable_bonds" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mmtbx.utils.rotatable_bonds.axes_and_atoms_aa_specific">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.rotatable_bonds.</span></code><code class="sig-name descname"><span class="pre">axes_and_atoms_aa_specific</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">residue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mon_lib_srv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_clusters_with_all_h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tardy_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.rotatable_bonds.axes_and_atoms_aa_specific" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mmtbx.utils.rotatable_bonds.tardy_model_one_residue">
<code class="sig-prename descclassname"><span class="pre">mmtbx.utils.rotatable_bonds.</span></code><code class="sig-name descname"><span class="pre">tardy_model_one_residue</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">residue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mon_lib_srv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mmtbx.utils.rotatable_bonds.tardy_model_one_residue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mmtbx.utils package</a><ul>
<li><a class="reference internal" href="#module-mmtbx.utils">Module contents</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-mmtbx.utils.fab_elbow_angle">mmtbx.utils.fab_elbow_angle module</a></li>
<li><a class="reference internal" href="#mmtbx-utils-ncs-utils-module">mmtbx.utils.ncs_utils module</a></li>
<li><a class="reference internal" href="#module-mmtbx.utils.rotatable_bonds">mmtbx.utils.rotatable_bonds module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mmtbx.twinning.html"
                        title="previous chapter">mmtbx.twinning package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mmtbx.validation.html"
                        title="next chapter">mmtbx.validation package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/mmtbx/mmtbx.utils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mmtbx.validation.html" title="mmtbx.validation package"
             >next</a> |</li>
        <li class="right" >
          <a href="mmtbx.twinning.html" title="mmtbx.twinning package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CCTBX Developer documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mmtbx.html" >mmtbx - macromolecular crystallography</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">mmtbx.utils package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, University of California.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
  </body>
</html>